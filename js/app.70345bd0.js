(function(){"use strict";var t={9818:function(t,e,i){var r=i(8935),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("h1",[t._v("Textarea with number counter and highlight")]),i("div",[t._v("Please check/uncheck options to toggle features.")]),i("div",{staticStyle:{display:"inline-block","margin-right":"10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showCharNum,expression:"showCharNum"}],attrs:{type:"checkbox",name:"character",id:"character"},domProps:{checked:Array.isArray(t.showCharNum)?t._i(t.showCharNum,null)>-1:t.showCharNum},on:{change:function(e){var i=t.showCharNum,r=e.target,h=!!r.checked;if(Array.isArray(i)){var a=null,s=t._i(i,a);r.checked?s<0&&(t.showCharNum=i.concat([a])):s>-1&&(t.showCharNum=i.slice(0,s).concat(i.slice(s+1)))}else t.showCharNum=h}}}),i("label",{attrs:{for:"character"}},[t._v("Show Character Number")])]),i("div",{staticStyle:{display:"inline-block","margin-right":"10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showSMSNum,expression:"showSMSNum"}],attrs:{type:"checkbox",name:"sms",id:"sms"},domProps:{checked:Array.isArray(t.showSMSNum)?t._i(t.showSMSNum,null)>-1:t.showSMSNum},on:{change:function(e){var i=t.showSMSNum,r=e.target,h=!!r.checked;if(Array.isArray(i)){var a=null,s=t._i(i,a);r.checked?s<0&&(t.showSMSNum=i.concat([a])):s>-1&&(t.showSMSNum=i.slice(0,s).concat(i.slice(s+1)))}else t.showSMSNum=h}}}),i("label",{attrs:{for:"sms"}},[t._v("Show SMS Number")])]),i("div",{staticStyle:{display:"inline-block"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.highlight,expression:"highlight"}],attrs:{type:"checkbox",name:"highlight",id:"highlight"},domProps:{checked:Array.isArray(t.highlight)?t._i(t.highlight,null)>-1:t.highlight},on:{change:function(e){var i=t.highlight,r=e.target,h=!!r.checked;if(Array.isArray(i)){var a=null,s=t._i(i,a);r.checked?s<0&&(t.highlight=i.concat([a])):s>-1&&(t.highlight=i.slice(0,s).concat(i.slice(s+1)))}else t.highlight=h}}}),i("label",{attrs:{for:"highlight"}},[t._v("Toggle highlighted text background")])]),i("br"),i("br"),t.highlight?i("div",[i("label",{staticStyle:{"margin-right":"10px"},attrs:{for:"charsNum"}},[t._v("The number of characters per SMS:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.charsNum,expression:"charsNum",modifiers:{number:!0}}],attrs:{type:"input",name:"charsNum",id:"charsNum"},domProps:{value:t.charsNum},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter.apply(null,arguments)},input:function(e){e.target.composing||(t.charsNum=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("button",{staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:t.enter}},[t._v("Enter")])]):t._e(),i("br"),i("CalculateNumTextArea",{attrs:{msg:t.msg,showCharNum:t.showCharNum,showSMSNum:t.showSMSNum,highlight:t.highlight,charsPerSMS:t.charsPerSMS},on:{"set-minimum":t.setMinimum}})],1)},a=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"textarea-outer"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.localMsg,expression:"localMsg"}],ref:"textarea",staticClass:"my-SMS",attrs:{name:"mySMS",rows:"10"},domProps:{value:t.localMsg},on:{input:[function(e){e.target.composing||(t.localMsg=e.target.value)},function(e){t.highlight&&t.highlightText}],scroll:t.scrollHighlight}}),i("div",{ref:"highlight",staticClass:"text-background"}),i("div",[t.showCharNum?i("div",[t._v(" Character number: "+t._s(t.charNum))]):t._e(),t.showSMSNum?i("div",[t._v(" SMS number: "+t._s(t.SMSNum))]):t._e()])])},l=[],n={name:"CalculateNumTextArea",props:{msg:{type:String,default:""},charsPerSMS:{type:Number,default:10},showCharNum:{type:Boolean,default:!1},showSMSNum:{type:Boolean,default:!1},highlight:{type:Boolean,default:!0}},data(){return{localMsg:this.msg.trim(),localCharsPerSMS:this.charsPerSMS,charNum:0,SMSNum:0}},watch:{localMsg:function(t,e){t!==e&&(this.updateNum(),this.highlight&&this.highlightText())},charsPerSMS:function(t,e){console.log("charsPerSMS",t,e),t<10&&(this.localCharsPerSMS=10,this.$emit("set-minimum",this.localCharsPerSMS)),t!==e&&(this.localCharsPerSMS=t)},localCharsPerSMS:function(t,e){t!==e&&(this.updateNum(),this.highlightText(),this.$refs.highlight.scrollTop=this.$refs.textarea.scrollTop)},highlight:function(t){t?(this.highlightText(),this.$refs.highlight.scrollTop=this.$refs.textarea.scrollTop):this.$refs.highlight.innerHTML=""}},methods:{updateNum(){""===this.localMsg.length?(this.charNum=0,this.SMSNum=0):(this.charNum=this.localMsg.length,this.SMSNum=Math.ceil(this.localMsg.length/this.localCharsPerSMS))},highlightText(){const t=this.localMsg.replace(/\n$/g,"\n\n");let e,i;this.$refs.highlight.innerHTML="";for(let r=1;r<=this.SMSNum;r++)e=r===this.SMSNum?t.slice(this.localCharsPerSMS*(r-1)):t.slice(this.localCharsPerSMS*(r-1),this.localCharsPerSMS*r),i=document.createElement("span"),i.textContent=e,r%2===0&&i.classList.add("highlighted-chars"),this.$refs.highlight.append(i)},scrollHighlight(t){this.$refs.highlight.scrollTop=t.target.scrollTop},updateLayout(){const t=window.getComputedStyle(this.$refs.textarea);this.$refs.highlight.style.zIndex=t.getPropertyValue("z-index")-1,this.$refs.highlight.style.paddingLeft=t.getPropertyValue("padding-left"),this.$refs.highlight.style.paddingTop=t.getPropertyValue("padding-top"),this.$refs.highlight.style.paddingRight=t.getPropertyValue("padding-right"),this.$refs.highlight.style.paddingBottom=t.getPropertyValue("padding-bottom"),this.$refs.highlight.style.width=t.getPropertyValue("width"),this.$refs.highlight.style.height=t.getPropertyValue("height")}},mounted(){this.updateLayout(),""!==this.localMsg&&(this.updateNum(),this.highlight&&this.highlightText())}},o=n,u=i(1001),c=(0,u.Z)(o,s,l,!1,null,null,null),g=c.exports,m={name:"App",components:{CalculateNumTextArea:g},data(){return{msg:"Please input your message!",charsNum:20,charsPerSMS:20,showCharNum:!0,showSMSNum:!0,highlight:!0}},methods:{enter:function(){this.charsPerSMS=this.charsNum},setMinimum:function(t){this.charsNum=t,this.charsPerSMS=t,alert("The minimum of numbers should be 10.")}}},d=m,p=(0,u.Z)(d,h,a,!1,null,null,null),f=p.exports;r.Z.config.productionTip=!1,new r.Z({render:t=>t(f)}).$mount("#app")}},e={};function i(r){var h=e[r];if(void 0!==h)return h.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(e,r,h,a){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],h=t[u][1],a=t[u][2];for(var l=!0,n=0;n<r.length;n++)(!1&a||s>=a)&&Object.keys(i.O).every((function(t){return i.O[t](r[n])}))?r.splice(n--,1):(l=!1,a<s&&(s=a));if(l){t.splice(u--,1);var o=h();void 0!==o&&(e=o)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,h,a]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,r){var h,a,s=r[0],l=r[1],n=r[2],o=0;if(s.some((function(e){return 0!==t[e]}))){for(h in l)i.o(l,h)&&(i.m[h]=l[h]);if(n)var u=n(i)}for(e&&e(r);o<s.length;o++)a=s[o],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(u)},r=self["webpackChunkcalculate_text_num"]=self["webpackChunkcalculate_text_num"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(9818)}));r=i.O(r)})();
//# sourceMappingURL=app.70345bd0.js.map